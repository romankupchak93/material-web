{"version":3,"file":"action-element_test.js","sourceRoot":"","sources":["action-element_test.ts"],"names":[],"mappings":"AAAA;;;;GAIG;;AAEH,mCAAmC;AAEnC,OAAO,EAAC,IAAI,EAAC,MAAM,KAAK,CAAC;AACzB,OAAO,EAAC,aAAa,EAAE,QAAQ,EAAC,MAAM,mBAAmB,CAAC;AAE1D,OAAO,EAAC,WAAW,EAAC,MAAM,2BAA2B,CAAC;AAEtD,OAAO,EAAC,aAAa,EAAC,MAAM,qBAAqB,CAAC;AASlD,IAAM,iBAAiB,GAAvB,MAAM,iBAAkB,SAAQ,aAAa;IAA7C;;QAC6B,aAAQ,GAAG,KAAK,CAAC;IAC9C,CAAC;CAAA,CAAA;AAD4B;IAA1B,QAAQ,CAAC,EAAC,IAAI,EAAE,OAAO,EAAC,CAAC;;mDAAkB;AADxC,iBAAiB;IADtB,aAAa,CAAC,qBAAqB,CAAC;GAC/B,iBAAiB,CAEtB;AAED,QAAQ,CAAC,gBAAgB,EAAE,GAAG,EAAE;IAC9B,MAAM,GAAG,GAAG,IAAI,WAAW,EAAE,CAAC;IAC9B,IAAI,EAAsB,CAAC;IAC3B,IAAI,WAAW,GAAqB,IAAI,CAAC;IAEzC,UAAU,CAAC,KAAK,IAAI,EAAE;QACpB,WAAW,GAAG,IAAI,CAAC;QACnB,MAAM,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAA,6CAA6C,CAAC,CAAC;QAC3E,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAE,CAAC;QAChD,EAAE,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,EAAS,EAAE,EAAE;YAC1C,WAAW,GAAG,EAAiB,CAAC;QAClC,CAAC,CAAC,CAAC;QACH,MAAM,GAAG,CAAC,gBAAgB,EAAE,CAAC;IAC/B,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,kCAAkC,EAAE,GAAG,EAAE;QAC1C,EAAE,CAAC,QAAQ,CAAC,EAAC,SAAS,EAAE,KAAK,EAAC,CAAC,CAAC;QAChC,MAAM,CAAC,WAAW,CAAC,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QAChD,MAAM,CAAC,WAAY,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,CAAC;IACzC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,oCAAoC,EAAE,GAAG,EAAE;QAC5C,MAAM,IAAI,GAAG;YACX,IAAI,EAAE,IAAI;SACX,CAAC;QACF,EAAE,CAAC,QAAQ,CAAC,EAAC,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC;QAClD,MAAM,CAAC,WAAW,CAAC,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QAChD,MAAM,CAAC,WAAY,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,WAAW,EAAE,GAAG,EAAE;QACzB,EAAE,CAAC,0CAA0C,EAAE,GAAG,EAAE;YAClD,EAAE,CAAC,QAAQ,CAAC,EAAC,SAAS,EAAE,IAAI,EAAC,CAAC,CAAC;YAC/B,MAAM,CAAC,WAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;QACjC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,4CAA4C,EAAE,GAAG,EAAE;YACpD,MAAM,IAAI,GAAG;gBACX,IAAI,EAAE,IAAI;aACX,CAAC;YACF,EAAE,CAAC,QAAQ,CAAC,EAAC,SAAS,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC;YACjD,MAAM,CAAC,WAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;QACjC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["/**\n * @license\n * Copyright 2022 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// import 'jasmine'; (google3-only)\n\nimport {html} from 'lit';\nimport {customElement, property} from 'lit/decorators.js';\n\nimport {Environment} from '../testing/environment.js';\n\nimport {ActionElement} from './action-element.js';\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'test-action-element': TestActionElement;\n  }\n}\n\n@customElement('test-action-element')\nclass TestActionElement extends ActionElement {\n  @property({type: Boolean}) disabled = false;\n}\n\ndescribe('Action Element', () => {\n  const env = new Environment();\n  let el!: TestActionElement;\n  let actionEvent: CustomEvent|null = null;\n\n  beforeEach(async () => {\n    actionEvent = null;\n    const root = env.render(html`<test-action-element></test-action-element>`);\n    el = root.querySelector('test-action-element')!;\n    el.addEventListener('action', (ev: Event) => {\n      actionEvent = ev as CustomEvent;\n    });\n    await env.waitForStability();\n  });\n\n  it('fires action event from endPress', () => {\n    el.endPress({cancelled: false});\n    expect(actionEvent).toBeInstanceOf(CustomEvent);\n    expect(actionEvent!.detail).toBeNull();\n  });\n\n  it('fires action event with actionData', () => {\n    const data = {\n      test: true,\n    };\n    el.endPress({cancelled: false, actionData: data});\n    expect(actionEvent).toBeInstanceOf(CustomEvent);\n    expect(actionEvent!.detail).toEqual(data);\n  });\n\n  describe('cancelled', () => {\n    it('does not fire action event from endPress', () => {\n      el.endPress({cancelled: true});\n      expect(actionEvent).toBeNull();\n    });\n\n    it('does not fire action event with actionData', () => {\n      const data = {\n        test: true,\n      };\n      el.endPress({cancelled: true, actionData: data});\n      expect(actionEvent).toBeNull();\n    });\n  });\n});\n"]}