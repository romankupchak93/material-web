{"version":3,"file":"menu-surface_test.js","sourceRoot":"","sources":["menu-surface_test.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2022 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport './menu-surface.js';\nimport '../list/list-item.js';\n\nimport {html} from 'lit';\nimport {styleMap} from 'lit/directives/style-map.js';\n\nimport {Environment} from '../testing/environment.js';\nimport {listenOnce} from '../testing/events.js';\n\nimport {MdMenuSurface} from './menu-surface.js';\n\nconst ANCHOR_WIDTH = '100px';\nconst ANCHOR_HEIGHT = '50px';\n\ndescribe('menu surface tests', () => {\n  const env = new Environment();\n  let surface: MdMenuSurface;\n  let root: HTMLElement;  // Inner root element to which styling is applied.\n\n  beforeEach(async () => {\n    const el = env.render(getMenuSurfaceTemplate());\n    surface = el.querySelector('md-menu-surface')!;\n    const button = el.querySelector('button')!;\n    surface.anchor = button;\n    await surface.updateComplete;\n    root = surface.shadowRoot!.querySelector('.md3-menu-surface')!;\n  });\n\n  describe('menu positioning options', () => {\n    it('Corner.TOP_START positions menu correctly', async () => {\n      surface.corner = 'TOP_START';\n      await surface.updateComplete;\n      surface.show();\n      // TOOD(b/241244423): Waiting for the event fired can be removed when\n      // this bug is fixed.\n      await listenOnce(surface, 'opened');\n      await surface.updateComplete;\n\n      expect(root.style.top).toBe('0px');\n      expect(root.style.left).toBe('0px');\n    });\n\n    it('Corner.TOP_END positions menu correctly', async () => {\n      surface.corner = 'TOP_END';\n      await surface.updateComplete;\n      surface.show();\n      // TOOD(b/241244423): Waiting for the event fired can be removed when\n      // this bug is fixed.\n      await listenOnce(surface, 'opened');\n      await surface.updateComplete;\n\n      expect(root.style.top).toBe('0px');\n      expect(root.style.left).toBe(ANCHOR_WIDTH);\n    });\n\n    it('Corner.BOTTOM_START positions menu correctly', async () => {\n      surface.corner = 'BOTTOM_START';\n      await surface.updateComplete;\n      surface.show();\n      // TOOD(b/241244423): Waiting for the event fired can be removed when\n      // this bug is fixed.\n      await listenOnce(surface, 'opened');\n      await surface.updateComplete;\n\n      expect(root.style.top).toBe(ANCHOR_HEIGHT);\n      expect(root.style.left).toBe('0px');\n    });\n\n    it('Corner.BOTTOM_END positions menu correctly', async () => {\n      surface.corner = 'BOTTOM_END';\n      await surface.updateComplete;\n      surface.show();\n      // TOOD(b/241244423): Waiting for the event fired can be removed when\n      // this bug is fixed.\n      await listenOnce(surface, 'opened');\n      await surface.updateComplete;\n\n      expect(root.style.top).toBe(ANCHOR_HEIGHT);\n      expect(root.style.left).toBe(ANCHOR_WIDTH);\n    });\n\n    it('`flipMenuHorizontally` flips TOP_START corner', async () => {\n      surface.corner = 'TOP_START';\n      surface.flipMenuHorizontally = true;\n      await surface.updateComplete;\n      surface.show();\n      // TOOD(b/241244423): Waiting for the event fired can be removed when\n      // this bug is fixed.\n      await listenOnce(surface, 'opened');\n      await surface.updateComplete;\n\n      expect(root.style.top).toBe('0px');\n      expect(root.style.right).toBe('0px');\n    });\n\n    it('`flipMenuHorizontally` flips TOP_END corner', async () => {\n      surface.corner = 'TOP_END';\n      surface.flipMenuHorizontally = true;\n      await surface.updateComplete;\n      surface.show();\n      // TOOD(b/241244423): Waiting for the event fired can be removed when\n      // this bug is fixed.\n      await listenOnce(surface, 'opened');\n      await surface.updateComplete;\n\n      expect(root.style.top).toBe('0px');\n      expect(root.style.right).toBe(ANCHOR_WIDTH);\n    });\n\n    it('`flipMenuHorizontally` flips BOTTOM_START corner', async () => {\n      surface.corner = 'BOTTOM_START';\n      surface.flipMenuHorizontally = true;\n      await surface.updateComplete;\n      surface.show();\n      // TOOD(b/241244423): Waiting for the event fired can be removed when\n      // this bug is fixed.\n      await listenOnce(surface, 'opened');\n      await surface.updateComplete;\n\n      expect(root.style.top).toBe(ANCHOR_HEIGHT);\n      expect(root.style.right).toBe('0px');\n    });\n\n    it('`flipMenuHorizontally` flips BOTTOM_END corner', async () => {\n      surface.corner = 'BOTTOM_END';\n      surface.flipMenuHorizontally = true;\n      await surface.updateComplete;\n      surface.show();\n      // TOOD(b/241244423): Waiting for the event fired can be removed when\n      // this bug is fixed.\n      await listenOnce(surface, 'opened');\n      await surface.updateComplete;\n\n      expect(root.style.top).toBe(ANCHOR_HEIGHT);\n      expect(root.style.right).toBe(ANCHOR_WIDTH);\n    });\n  });\n});\n\nfunction getMenuSurfaceTemplate(propsInit: Partial<MdMenuSurface> = {}) {\n  return html`\n    <div class=\"root\" style=\"position: relative; margin: 100px;\">\n      <button style=\"${styleMap({\n    width: ANCHOR_WIDTH,\n    height: ANCHOR_HEIGHT\n  })}\">\n        Open Menu\n      </button>\n      <md-menu-surface .quick=\"${propsInit.quick ?? true}\"\n          .corner=\"${propsInit.corner ?? 'BOTTOM_START'}\"\n          .flipMenuHorizontally=\"${propsInit.flipMenuHorizontally ?? false}\">\n        Menu surface content\n      </md-menu-surface>\n    </div>\n  `;\n}\n"]}