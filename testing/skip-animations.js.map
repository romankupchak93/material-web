{"version":3,"file":"skip-animations.js","sourceRoot":"","sources":["skip-animations.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,oEAAoE;AACpE,MAAM,UAAU,wBAAwB;IACtC,MAAM,aAAa,GAAG,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC;IAChD,SAAS,cAAc,CACJ,GAAG,IAAsC;QAC1D,MAAM,SAAS,GAAG,aAAa,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAClD,IAAI,SAAS,CAAC,MAAM,EAAE;YACpB,SAAS,CAAC,MAAM,CAAC,YAAY,CACzB,EAAC,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,MAAM,EAAE,YAAY,EAAE,UAAU,EAAE,CAAC,EAAC,CAAC,CAAC;SACnE;QAED,OAAO,SAAS,CAAC;IACnB,CAAC;IAED,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,SAAS,EAAE,SAAS,EAAE;QAClD,YAAY,EAAE,IAAI;QAClB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,IAAI;QACd,KAAK,EAAE,cAAc;KACtB,CAAC,CAAC;IAEH,6BAA6B;IAC7B,OAAO,GAAG,EAAE;QACV,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,SAAS,EAAE,SAAS,EAAE;YAClD,YAAY,EAAE,IAAI;YAClB,UAAU,EAAE,IAAI;YAChB,QAAQ,EAAE,IAAI;YACd,KAAK,EAAE,aAAa;SACrB,CAAC,CAAC;IACL,CAAC,CAAC;AACJ,CAAC","sourcesContent":["/**\n * @license\n * Copyright 2022 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/** Overrides the browsers native animate to make them run in 1ms */\nexport function installSkipWebAnimations() {\n  const nativeAnimate = Element.prototype.animate;\n  function patchedAnimate(\n      this: Element, ...args: Parameters<typeof nativeAnimate>) {\n    const animation = nativeAnimate.apply(this, args);\n    if (animation.effect) {\n      animation.effect.updateTiming(\n          {delay: 0, duration: 1, easing: 'step-start', iterations: 1});\n    }\n\n    return animation;\n  }\n\n  Object.defineProperty(Element.prototype, 'animate', {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: patchedAnimate\n  });\n\n  // return uninstall function.\n  return () => {\n    Object.defineProperty(Element.prototype, 'animate', {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: nativeAnimate\n    });\n  };\n}\n"]}